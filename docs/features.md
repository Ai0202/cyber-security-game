# 機能一覧

## ハブ画面（ステージ選択）

### 概要
ゲーム全体のメインナビゲーション。3つのタブで構成される。

### タブ構成
| タブ名 | 内容 |
|--------|------|
| ⚔️ ステージ | ステージ一覧・OPERATION表示 |
| 👥 キャラ | プレイヤーキャラクター「シャドウ」のプロフィール・スキル表示 |
| 🖥️ 体験デモ | 各ステージの簡単なチュートリアル・操作説明 |

### ステージタブの構成
- **OPERATION カード**（上部・フィーチャー表示）: 4ステージを連続で体験する攻撃チェーンモード
- **ATTACK SIDE セクション**: 攻撃者体験ステージ一覧（Stage 1〜4）
- 各ステージカードには名前・説明・難易度インジケーター（ドット表示）を表示

### ユーザーストーリー
- プレイヤーとして、自分のレベルに合ったステージを選びたい。なぜなら難易度を把握して段階的に学びたいから。

### 受け入れ条件
- 3つのタブが切り替え可能で、Framer Motionでスムーズに遷移する
- OPERATIONカードが目立つようにグラデーション枠で強調表示される
- 各ステージカードに難易度ドット（1〜3個、色分け）が表示される
- ステージカードタップでゲーム画面へ遷移する

---

## Stage 1: ショルダーハッキング 👁️

### 概要
攻撃者として、オフィスや公共の場でターゲットのPC画面・スマホ画面を覗き見して機密情報を盗む体験。

### ゲーム形式: インタラクティブ観察ゲーム（制限時間つき画像探索）

### 難易度: ★☆☆（初級）

### ゲームフロー

#### 攻撃側フェーズ
1. **シーン提示**: Gemini APIがオフィス・カフェ・電車内などのシチュエーションを生成
2. **画面表示**: ターゲットのPC/スマホ画面が部分的に見えている画像（UIモック）が表示される
3. **情報探索**: 制限時間（30秒）以内に、画面上の機密情報（パスワード付箋、メール本文、個人情報など）をタップして収集する
4. **スコア判定**: 見つけた情報の数と重要度でスコアリング

#### Gemini API活用
- 毎回異なるシチュエーション（場所・ターゲットの職種・画面内容）を生成
- 画面上に表示される情報（メールアドレス、パスワード、会議資料の断片など）のテキストを動的生成
- クリア後に「この情報がどう悪用されるか」のフィードバックを生成

#### スコアリング
| 項目 | 点数 |
|------|------|
| パスワード発見 | 30pt |
| 個人情報発見 | 20pt |
| 業務機密発見 | 25pt |
| 制限時間内クリア | ボーナス 10pt |

#### 学習ポイント（結果画面で表示）
- プライバシーフィルターの重要性
- 公共の場でのPC操作時の注意
- パスワードを付箋に書かない

---

## Stage 2: パスワードクラッキング 🔐

### 概要
攻撃者として、ターゲットの弱いパスワードを総当たり・辞書攻撃で突破する体験。

### ゲーム形式: パスワード推測シミュレーション（ターミナル風UI）

### 難易度: ★★☆（中級）

### ゲームフロー

#### 攻撃側フェーズ
1. **ターゲット情報表示**: Gemini APIがターゲットのSNSプロフィール（誕生日・ペット名・趣味等）を生成
2. **パスワード推測**: ターゲットの情報をヒントに、パスワード候補を入力する
3. **攻撃実行**: 入力したパスワードで「攻撃」ボタンを押すと、ハッキング風のターミナルアニメーションが流れる
4. **結果表示**: パスワードが合っていれば突破成功。何回目の試行で突破できたかをスコアリング

#### 攻撃手法の選択肢
- **手動推測**: ターゲットの個人情報から推測して入力（高得点）
- **辞書攻撃モード**: よくあるパスワード一覧から選択して自動実行（中得点）
- **総当たりモード**: 文字種と長さを指定して自動実行 → かかる時間をシミュレーション表示（低得点だが教育効果大）

#### Gemini API活用
- ターゲットのSNSプロフィール・投稿内容を動的生成
- プロフィールから推測可能なパスワードとその理由を内部で保持
- 突破後に「なぜこのパスワードは弱かったのか」の解説を生成
- 「強いパスワードの作り方」のアドバイスを生成

#### スコアリング
| 項目 | 点数 |
|------|------|
| 1回目で突破 | 100pt |
| 2〜3回目で突破 | 70pt |
| 4〜5回目で突破 | 40pt |
| 総当たりで突破 | 10pt |
| 辞書攻撃で突破 | 20pt |

#### 学習ポイント（結果画面で表示）
- 個人情報から推測可能なパスワードの危険性
- パスワードの長さ・複雑さと突破時間の関係
- パスワードマネージャーの推奨
- 二要素認証の重要性

---

## Stage 3: フィッシング攻撃 🎣

### 概要
攻撃者として、ターゲットを騙すフィッシングメールを作成し、情報を窃取する体験。

### ゲーム形式: フィッシングメール作成シミュレーション（メーラー風UI）

### 難易度: ★★☆（中級）

### ゲームフロー

#### 攻撃側フェーズ
1. **ミッションブリーフィング**: ターゲットの企業情報・役職・最近の行動が Gemini API で生成される
2. **メール作成**: 以下の要素をプレイヤーが選択・入力してフィッシングメールを組み立てる
   - **送信者名/メールアドレス**: なりすまし先を選択（上司、IT部門、銀行、配送業者等）
   - **件名**: 緊急性・重要性を感じさせる件名を入力
   - **本文**: テンプレートをベースにカスタマイズ、または自由入力
   - **罠リンク/添付ファイル**: 偽のURL・偽の添付ファイルを設定
3. **送信 → 判定**: Gemini APIがターゲットの反応をシミュレーション
   - 「リンクをクリックした」「不審に思って無視した」「IT部門に報告した」など
4. **スコア判定**: メールの巧妙さを複数の観点で評価

#### Gemini API活用
- ターゲットの企業・役職・行動パターンを動的生成
- プレイヤーが作成したフィッシングメールの「騙されやすさ」をAIが多角的に評価
  - 送信者の信憑性
  - 件名の緊急性・自然さ
  - 本文の文体・説得力
  - URLの怪しさの巧妙さ
- ターゲットのリアクションをストーリー形式で生成
- 「このメールのどこが見破れるポイントだったか」の防御側フィードバックを生成

#### スコアリング
| 項目 | 点数 |
|------|------|
| 送信者偽装の巧妙さ | 0〜25pt |
| 件名の緊急性・自然さ | 0〜25pt |
| 本文の説得力 | 0〜30pt |
| 罠URL/添付の巧妙さ | 0〜20pt |

#### 学習ポイント（結果画面で表示）
- フィッシングメールの典型的な特徴
- メールアドレスのドメイン確認方法
- URLの確認方法（ホバーして実際のリンク先を見る）
- 「緊急」「至急」に惑わされない心構え
- 不審メールの報告フロー

---

## Stage 4: ランサムウェア侵攻 💀

### 概要
攻撃者として、企業のネットワークに侵入してランサムウェアを展開し、身代金を要求する攻撃チェーン全体を体験。

### ゲーム形式: 4フェーズ攻撃チェーン（ストーリー分岐型 + ターミナル風UI）

### 難易度: ★★★（上級）

### ゲームフロー

#### フェーズ1: 初期侵入
- Stage 3 のフィッシングの成果として、従業員の認証情報を入手済みの設定
- 入手した認証情報で企業システムに初期ログインする
- Gemini APIがシステム構成（ファイルサーバー、メールサーバー等）を動的生成

#### フェーズ2: 内部偵察
- ログイン後、ネットワーク内を探索する選択肢が表示される
- 「共有フォルダを探索」「メールサーバーにアクセス」「管理者権限を探す」などから選択
- 選択に応じてGemini APIが発見できる情報や次のアクションを生成

#### フェーズ3: 権限昇格 → 暗号化実行
- 管理者権限の取得を試みる（パスワードファイル発見、脆弱性利用などの選択肢）
- 権限取得後、暗号化対象を選択
- 暗号化実行のアニメーション（ファイルが次々とロックされていく演出）

#### フェーズ4: 身代金要求
- 脅迫文のテンプレートをカスタマイズ
- 要求額・支払期限・連絡手段を設定
- 被害企業の反応をGemini APIがシミュレーション

#### Gemini API活用
- 企業のシステム構成・データ内容を動的生成
- 各フェーズの選択肢と結果をストーリー分岐形式で生成
- 攻撃の各段階で「ここで検知される可能性があった」ポイントを内部記録
- クリア後に攻撃チェーン全体の振り返りと各段階での防御策を解説

#### スコアリング
| 項目 | 点数 |
|------|------|
| 初期侵入の成功 | 20pt |
| 偵察で重要情報を発見 | 0〜30pt |
| 権限昇格の手法 | 0〜25pt |
| 暗号化の範囲 | 0〜15pt |
| 脅迫文の巧妙さ | 0〜10pt |

#### 学習ポイント（結果画面で表示）
- ランサムウェア攻撃の全体像（キルチェーン）
- 各段階で企業側が取れる防御策
- バックアップの重要性
- インシデント対応の基本フロー
- 身代金を払ってはいけない理由

---

## OPERATION: RANSOMWARE（フィーチャーモード）

### 概要
Stage 1〜4 を一連の攻撃チェーンとして連続プレイするモード。ストーリーが繋がっており、前のステージの結果が次に影響する。

### フロー
1. ショルダーハッキングでターゲット情報を入手
2. 入手した情報でパスワードを推測・突破
3. 突破したアカウントを使ってフィッシングメールを社内に送信
4. フィッシングで得た権限でランサムウェアを展開

### スコアリング
各ステージのスコア合算 + 連続クリアボーナス

---

## 共通機能

### 結果画面
- **スコア表示**: 0〜100のスコアを円形プログレスバーで表示
- **ランク判定**: S / A / B / C / D のランク表示（アニメーション付き）
- **AIフィードバック**: Gemini APIによる行動分析・学習ポイントの個別フィードバック
- **防御のヒント**: 攻撃をどう防ぐかの具体的なアドバイス
- 「もう一度プレイ」「ステージ選択に戻る」ボタン

### キャラクタータブ
- プレイヤーキャラ「シャドウ」のプロフィール表示
- 累計スコアに応じたスキルレベル表示
- MVPでは静的な表示のみ（将来的にカスタマイズ可能に）

### 体験デモタブ
- 各ステージの簡単な操作チュートリアル
- ゲームの遊び方説明
- セキュリティ用語集（Gemini APIで質問可能）
